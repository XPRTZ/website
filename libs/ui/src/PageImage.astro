---
import { type Image as ImageType } from "@xprtz/cms";

interface ImageProps {
  __component: "ui.image";
  image: ImageType;
  description?: string;
}

const { image, description } = Astro.props as ImageProps;
const site = import.meta.env.PUBLIC_IMAGES_URL;
---

<figure class="mt-10">
  <img
    class="aspect-video rounded-xl bg-gray-50 object-cover"
    src=`${site}${image.url}`
    alt={image.alternateText}
  />
  {
    description && (
      <figcaption class="mt-4 flex gap-x-2 text-sm/6 text-gray-500">
        <svg
          class="mt-0.5 size-5 flex-none text-gray-300"
          viewBox="0 0 20 20"
          fill="currentColor"
          aria-hidden="true"
          data-slot="icon"
        >
          <path
            fill-rule="evenodd"
            d="M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z"
            clip-rule="evenodd"
          />
        </svg>
        {description}
      </figcaption>
    )
  }
</figure>
